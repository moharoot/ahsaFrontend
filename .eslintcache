[{"M:\\Projects\\benkassim\\src\\index.js":"1","M:\\Projects\\benkassim\\src\\reportWebVitals.js":"2","M:\\Projects\\benkassim\\src\\App.js":"3","M:\\Projects\\benkassim\\src\\store\\reducers\\RootReducer.js":"4","M:\\Projects\\benkassim\\src\\store\\sagas\\RootSaga.js":"5","M:\\Projects\\benkassim\\src\\components\\Header.js":"6","M:\\Projects\\benkassim\\src\\components\\Debits.js":"7","M:\\Projects\\benkassim\\src\\components\\Credits.js":"8","M:\\Projects\\benkassim\\src\\components\\Home.js":"9","M:\\Projects\\benkassim\\src\\store\\reducers\\clientR.js":"10","M:\\Projects\\benkassim\\src\\store\\reducers\\creditR.js":"11","M:\\Projects\\benkassim\\src\\store\\reducers\\debitR.js":"12","M:\\Projects\\benkassim\\src\\store\\sagas\\clientSaga.js":"13","M:\\Projects\\benkassim\\src\\store\\sagas\\creditSaga.js":"14","M:\\Projects\\benkassim\\src\\store\\sagas\\debitSaga.js":"15","M:\\Projects\\benkassim\\src\\components\\AddCredit.js":"16","M:\\Projects\\benkassim\\src\\components\\SearchCredit.js":"17","M:\\Projects\\benkassim\\src\\components\\AddClient.js":"18","M:\\Projects\\benkassim\\src\\store\\actions\\creditActions.js":"19","M:\\Projects\\benkassim\\src\\store\\actions\\debitActions.js":"20","M:\\Projects\\benkassim\\src\\store\\actions\\clientActions.js":"21","M:\\Projects\\benkassim\\src\\components\\TransactionReport.js":"22","M:\\Projects\\benkassim\\src\\components\\Main.js":"23","M:\\Projects\\benkassim\\src\\components\\MainLogic.js":"24","M:\\Projects\\benkassim\\src\\components\\Customers.js":"25","M:\\Projects\\benkassim\\src\\components\\CustomersLogic.js":"26","M:\\Projects\\benkassim\\src\\components\\EditCustomer.js":"27","M:\\Projects\\benkassim\\src\\components\\ClientTransaction.js":"28","M:\\Projects\\benkassim\\src\\components\\AddDebit.js":"29","M:\\Projects\\benkassim\\src\\store\\reducers\\rateR.js":"30","M:\\Projects\\benkassim\\src\\store\\sagas\\rateSaga.js":"31","M:\\Projects\\benkassim\\src\\store\\actions\\rateActions.js":"32","M:\\Projects\\benkassim\\src\\components\\SearchByDate.js":"33","M:\\Projects\\benkassim\\src\\store\\actions\\SearchByDateActions.js":"34","M:\\Projects\\benkassim\\src\\components\\TodayCredits.js":"35","M:\\Projects\\benkassim\\src\\components\\TodayDebits.js":"36","M:\\Projects\\benkassim\\src\\components\\TotalBalance.js":"37","M:\\Projects\\benkassim\\src\\components\\UpdateOpeningBalance.js":"38","M:\\Projects\\benkassim\\src\\components\\OpeningBalance.js":"39","M:\\Projects\\benkassim\\src\\components\\TodayBalance.js":"40","M:\\Projects\\benkassim\\src\\components\\ClosingBalance.js":"41","M:\\Projects\\benkassim\\src\\store\\actions\\CBActions.js":"42","M:\\Projects\\benkassim\\src\\store\\reducers\\searchByDateReducer.js":"43","M:\\Projects\\benkassim\\src\\store\\sagas\\CBSaga.js":"44","M:\\Projects\\benkassim\\src\\store\\reducers\\CBReducer.js":"45","M:\\Projects\\benkassim\\src\\components\\SearchCustomer.js":"46","M:\\Projects\\benkassim\\src\\components\\accounts\\Login.js":"47","M:\\Projects\\benkassim\\src\\store\\actions\\authActions.js":"48","M:\\Projects\\benkassim\\src\\store\\reducers\\authReducer.js":"49","M:\\Projects\\benkassim\\src\\store\\sagas\\authSagas.js":"50","M:\\Projects\\benkassim\\src\\components\\common\\PrivateRoute.js":"51","M:\\Projects\\benkassim\\src\\components\\SystemSettings\\Rates.js":"52","M:\\Projects\\benkassim\\src\\components\\SystemSettings\\AddRate.js":"53","M:\\Projects\\benkassim\\src\\components\\Test.js":"54"},{"size":1087,"mtime":1609782299805,"results":"55","hashOfConfig":"56"},{"size":362,"mtime":499162500000,"results":"57","hashOfConfig":"56"},{"size":1945,"mtime":1619867580899,"results":"58","hashOfConfig":"56"},{"size":449,"mtime":1614629265211,"results":"59","hashOfConfig":"56"},{"size":1595,"mtime":1614631741318,"results":"60","hashOfConfig":"56"},{"size":3417,"mtime":1619862512415,"results":"61","hashOfConfig":"56"},{"size":4539,"mtime":1619862476642,"results":"62","hashOfConfig":"56"},{"size":4540,"mtime":1619862453601,"results":"63","hashOfConfig":"56"},{"size":153,"mtime":1609351534104,"results":"64","hashOfConfig":"56"},{"size":1831,"mtime":1613768664855,"results":"65","hashOfConfig":"56"},{"size":659,"mtime":1612817352425,"results":"66","hashOfConfig":"56"},{"size":649,"mtime":1612907156657,"results":"67","hashOfConfig":"56"},{"size":3951,"mtime":1620641082391,"results":"68","hashOfConfig":"56"},{"size":2473,"mtime":1620641095795,"results":"69","hashOfConfig":"56"},{"size":2303,"mtime":1620641154123,"results":"70","hashOfConfig":"56"},{"size":4042,"mtime":1619090070594,"results":"71","hashOfConfig":"56"},{"size":1857,"mtime":1609900456881,"results":"72","hashOfConfig":"73"},{"size":2201,"mtime":1611775979232,"results":"74","hashOfConfig":"56"},{"size":1065,"mtime":1612904586632,"results":"75","hashOfConfig":"56"},{"size":1031,"mtime":1612907031646,"results":"76","hashOfConfig":"56"},{"size":1067,"mtime":1613767573736,"results":"77","hashOfConfig":"56"},{"size":2083,"mtime":1619100614872,"results":"78","hashOfConfig":"56"},{"size":1880,"mtime":1619862391418,"results":"79","hashOfConfig":"56"},{"size":3577,"mtime":1616181190685,"results":"80","hashOfConfig":"56"},{"size":2220,"mtime":1619862409834,"results":"81","hashOfConfig":"56"},{"size":2127,"mtime":1612904176549,"results":"82","hashOfConfig":"56"},{"size":2663,"mtime":1612468412886,"results":"83","hashOfConfig":"56"},{"size":11817,"mtime":1612724203486,"results":"84","hashOfConfig":"56"},{"size":4120,"mtime":1619091284075,"results":"85","hashOfConfig":"56"},{"size":504,"mtime":1613253752743,"results":"86","hashOfConfig":"56"},{"size":1157,"mtime":1620641173264,"results":"87","hashOfConfig":"56"},{"size":284,"mtime":1619091816553,"results":"88","hashOfConfig":"56"},{"size":1088,"mtime":1614860491072,"results":"89","hashOfConfig":"56"},{"size":160,"mtime":1613937451329,"results":"90","hashOfConfig":"56"},{"size":6462,"mtime":1619114987981,"results":"91","hashOfConfig":"56"},{"size":6169,"mtime":1619115012356,"results":"92","hashOfConfig":"56"},{"size":5282,"mtime":1618749062600,"results":"93","hashOfConfig":"56"},{"size":5631,"mtime":1613329410267,"results":"94","hashOfConfig":"73"},{"size":1628,"mtime":1618690955443,"results":"95","hashOfConfig":"56"},{"size":2082,"mtime":1613329499826,"results":"96","hashOfConfig":"73"},{"size":1326,"mtime":1618340279258,"results":"97","hashOfConfig":"56"},{"size":254,"mtime":1597547636089,"results":"98","hashOfConfig":"56"},{"size":342,"mtime":1613938835982,"results":"99","hashOfConfig":"56"},{"size":1137,"mtime":1620641183288,"results":"100","hashOfConfig":"56"},{"size":500,"mtime":1618340439568,"results":"101","hashOfConfig":"56"},{"size":1404,"mtime":1613767975281,"results":"102","hashOfConfig":"56"},{"size":2113,"mtime":1614797795500,"results":"103","hashOfConfig":"56"},{"size":652,"mtime":1614721659146,"results":"104","hashOfConfig":"56"},{"size":1323,"mtime":1614799017667,"results":"105","hashOfConfig":"56"},{"size":2555,"mtime":1620641039398,"results":"106","hashOfConfig":"56"},{"size":662,"mtime":1614797607539,"results":"107","hashOfConfig":"56"},{"size":1638,"mtime":1619114272896,"results":"108","hashOfConfig":"56"},{"size":1546,"mtime":1619094243650,"results":"109","hashOfConfig":"56"},{"size":1815,"mtime":1619122901115,"results":"110","hashOfConfig":"56"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"dfhob7",{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"115","messages":"116","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"121","messages":"122","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"123","messages":"124","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"125","messages":"126","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"135","messages":"136","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"137","messages":"138","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"139","messages":"140","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"141","messages":"142","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"143","messages":"144","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"145","usedDeprecatedRules":"146"},"1lw78xg",{"filePath":"147","messages":"148","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"149","messages":"150","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"151","messages":"152","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"153","messages":"154","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"155","messages":"156","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"157","messages":"158","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"159","messages":"160","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"161","messages":"162","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"163","messages":"164","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"165","messages":"166","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"167","messages":"168","errorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"169","messages":"170","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"171","messages":"172","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"173","messages":"174","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"175","messages":"176","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"177","messages":"178","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"179","messages":"180","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"181","messages":"182","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"183","messages":"184","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"185","messages":"186","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"187","messages":"188","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"189","usedDeprecatedRules":"190"},{"filePath":"191","messages":"192","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"193","messages":"194","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"195","usedDeprecatedRules":"190"},{"filePath":"196","messages":"197","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"198","messages":"199","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"200","messages":"201","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"202","messages":"203","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"204","messages":"205","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"206","messages":"207","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"208","messages":"209","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"210","messages":"211","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"212","messages":"213","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"214","messages":"215","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"216","messages":"217","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"218","messages":"219","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"220","messages":"221","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"222","messages":"223","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"M:\\Projects\\benkassim\\src\\index.js",[],"M:\\Projects\\benkassim\\src\\reportWebVitals.js",[],"M:\\Projects\\benkassim\\src\\App.js",["224","225","226"],"M:\\Projects\\benkassim\\src\\store\\reducers\\RootReducer.js",[],"M:\\Projects\\benkassim\\src\\store\\sagas\\RootSaga.js",[],"M:\\Projects\\benkassim\\src\\components\\Header.js",["227","228","229"],"M:\\Projects\\benkassim\\src\\components\\Debits.js",["230","231","232"],"M:\\Projects\\benkassim\\src\\components\\Credits.js",["233","234","235"],"M:\\Projects\\benkassim\\src\\components\\Home.js",[],"M:\\Projects\\benkassim\\src\\store\\reducers\\clientR.js",[],"M:\\Projects\\benkassim\\src\\store\\reducers\\creditR.js",[],"M:\\Projects\\benkassim\\src\\store\\reducers\\debitR.js",[],"M:\\Projects\\benkassim\\src\\store\\sagas\\clientSaga.js",["236"],"M:\\Projects\\benkassim\\src\\store\\sagas\\creditSaga.js",["237","238","239"],"M:\\Projects\\benkassim\\src\\store\\sagas\\debitSaga.js",["240","241","242"],"M:\\Projects\\benkassim\\src\\components\\AddCredit.js",["243"],"M:\\Projects\\benkassim\\src\\components\\SearchCredit.js",["244","245","246","247"],"// import { Redirect } from \"react-router-dom\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import queryString from 'query-string';\r\nimport React, { useState, useEffect } from 'react'; \r\nimport { searchCredit } from '../store/actions/creditActions'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nconst SearchCredit = (props) => {\r\n    const dispatch = useDispatch();\r\n    \r\n    const [state, updateState] = useState({ \r\n        query:'', \r\n    });  \r\n     \r\n\r\n    const handleChange = (e) =>{ \r\n        let query = e.target.value.trim(\"\");\r\n        updateState({ \r\n            query: query, \r\n        })\r\n                     \r\n        if(query.trim() !== \"\"){ \r\n            dispatch(searchCredit(query));   \r\n       \r\n        }   \r\n \r\n    }\r\n\r\n  /*   //  This will run when the componenet is unmounted\r\n    useEffect(() => {\r\n        return () => {\r\n            console.log('********* UNMOUNTED *********');\r\n            let searchEl = document.getElementById('search');\r\n               if(searchEl.value !== \"\"){\r\n                searchEl.value = \"\";\r\n               }\r\n        };\r\n    }, []); */\r\n\r\n    return ( \r\n        <div> \r\n            {/* <form className=\"search-form\">\r\n                <input type=\"text\" \r\n                id=\"search\" \r\n                placeholder=\"Search With Credits\"\r\n                name=\"search\" \r\n               // value={query}\r\n                onChange={handleChange}/>\r\n            </form> */} \r\n            <div className=\"customers_wrapper\">\r\n                <form>\r\n                    <input type=\"text\" placeholder=\"Search Customer\"/>\r\n                    <input type=\"submit\" class=\"btn submit\" value=\"Search\"/>\r\n                </form> \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst SearchCreditWR = withRouter(SearchCredit);\r\nexport default SearchCreditWR;            \r\n           ",["248","249"],"M:\\Projects\\benkassim\\src\\components\\AddClient.js",["250","251"],"M:\\Projects\\benkassim\\src\\store\\actions\\creditActions.js",[],"M:\\Projects\\benkassim\\src\\store\\actions\\debitActions.js",[],"M:\\Projects\\benkassim\\src\\store\\actions\\clientActions.js",[],"M:\\Projects\\benkassim\\src\\components\\TransactionReport.js",[],"M:\\Projects\\benkassim\\src\\components\\Main.js",["252"],"M:\\Projects\\benkassim\\src\\components\\MainLogic.js",["253"],"M:\\Projects\\benkassim\\src\\components\\Customers.js",[],"M:\\Projects\\benkassim\\src\\components\\CustomersLogic.js",["254","255"],"M:\\Projects\\benkassim\\src\\components\\EditCustomer.js",["256"],"M:\\Projects\\benkassim\\src\\components\\ClientTransaction.js",["257","258","259","260","261","262","263","264","265","266","267","268","269","270","271"],"M:\\Projects\\benkassim\\src\\components\\AddDebit.js",["272"],"M:\\Projects\\benkassim\\src\\store\\reducers\\rateR.js",[],"M:\\Projects\\benkassim\\src\\store\\sagas\\rateSaga.js",[],"M:\\Projects\\benkassim\\src\\store\\actions\\rateActions.js",[],"M:\\Projects\\benkassim\\src\\components\\SearchByDate.js",["273","274"],"M:\\Projects\\benkassim\\src\\store\\actions\\SearchByDateActions.js",[],"M:\\Projects\\benkassim\\src\\components\\TodayCredits.js",["275"],"M:\\Projects\\benkassim\\src\\components\\TodayDebits.js",["276"],"M:\\Projects\\benkassim\\src\\components\\TotalBalance.js",["277","278","279","280","281","282","283","284","285"],"M:\\Projects\\benkassim\\src\\components\\UpdateOpeningBalance.js",["286"],"import React, { useState, useEffect } from 'react';   \r\nimport { requestCredits } from '../store/actions/creditActions'\r\nimport { requestDebits } from '../store/actions/debitActions' \r\nimport { useSelector, useDispatch } from 'react-redux' \r\nimport { requestRate } from '../store/actions/rateActions'\r\nimport { postCB } from '../store/actions/CBActions' \r\nimport moment from 'moment'\r\n\r\nconst ClosingBalance = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    // When the component is mounted, retrieve the data\r\n    useEffect(() => {   \r\n        dispatch(requestCredits());\r\n        dispatch(requestRate());\r\n        dispatch(requestDebits());\r\n        //console.log(\"mounted\")\r\n    }, []);  \r\n\r\n    \r\n    ///// Get the last rate //////\r\n        const t_rate = useSelector(state => state.rateR.rate); \r\n\r\n        let last = [t_rate[t_rate.length-1]] \r\n\r\n        let obj3 = last[0] \r\n\r\n        const objectOptions = {\r\n        ...obj3\r\n        }; \r\n\r\n        let rate = objectOptions.rate || 0;  \r\n        let allDeposits = 0; \r\n        let allDebits = 0;\r\n        \r\n    ///// End of Rates ////\r\n\r\n    // Today's Credits\r\n    const credits = useSelector(state => state.creditR.credits);\r\n        //console.log(credits)\r\n        credits.map(credit =>{\r\n            let deposits = credit.deposits;\r\n            let today = moment().format('YYYY-MM-DD');\r\n            // Filter today's credits\r\n            let _todayDeposits = deposits.filter(tdeb => {  \r\n                return ( \r\n                    moment(tdeb.date_deposited).format('YYYY-MM-DD') === today\r\n                )\r\n            })\r\n\r\n\r\n             /********* DEPOSITS/CREITS ************/\r\n             // Get all USDs\r\n             let c_usd = _todayDeposits.filter(b =>{\r\n                return b.currency===\"USD\"\r\n            })\r\n            // Convert all USDs into KSH\r\n            let all_usds=0;\r\n            for(let i = 0; i < c_usd.length; i++){\r\n                all_usds += parseInt(c_usd[i].amount_deposited);\r\n            }\r\n            let total_usds = all_usds*rate;\r\n\r\n            // Get all KSHs\r\n            let c_ksh = _todayDeposits.filter(b =>{\r\n                return b.currency===\"KSH\"\r\n            })\r\n            //# Sum KSHs  \r\n            const all_kshs = c_ksh.reduce(function(sum, ksh){\r\n                return sum = sum+parseInt(ksh.amount_deposited);\r\n            },0);\r\n           \r\n\r\n            //Add the KSHs and the converted USDs\r\n            allDeposits += total_usds+all_kshs\r\n           \r\n          /********* END OF DEPOSITS/CREITS ************/\r\n            \r\n\r\n           \r\n            return(  \r\n                <span></span>\r\n            )\r\n        //})\r\n\r\n           \r\n        }) \r\n\r\n\r\n\r\n\r\n\r\n    // Today's Debits\r\n    const debits = useSelector(state => state.debitR.debits); \r\n    //console.log(debits) \r\n        debits.map(debit =>{\r\n            let borroweds =debit.borroweds;\r\n             // Filter today's debits\r\n            let today = moment().format('YYYY-MM-DD'); \r\n            let _todayDebits = borroweds.filter(tdeb => {  \r\n                return ( \r\n                    moment(tdeb.date_borrowed).format('YYYY-MM-DD') === today\r\n                )\r\n            })\r\n            /********* BORROWEDS/DEBITS ************/ \r\n            \r\n            // Get all USDs\r\n            let bc_usd = _todayDebits.filter(b =>{\r\n                return b.currency===\"USD\"\r\n            }) \r\n\r\n            // Convert all USDs into KSH\r\n            let b_all_usds=0;\r\n            for(let i = 0; i < bc_usd.length; i++){\r\n                b_all_usds += parseInt(bc_usd[i].amount_borrowed);\r\n            }\r\n            let b_total_usds = b_all_usds*rate; \r\n\r\n            // Get all KSHs\r\n            let b_c_ksh = _todayDebits.filter(b =>{\r\n                return b.currency===\"KSH\"\r\n            })\r\n            //# Sum KSHs  \r\n            const b_all_kshs = b_c_ksh.reduce(function(sum, ksh){\r\n                return sum = sum+parseInt(ksh.amount_borrowed);\r\n            },0); \r\n\r\n            //Add the KSHs and the converted USDs\r\n            allDebits += b_total_usds+b_all_kshs \r\n\r\n\r\n           /********* END OF BORROWEDS/DEBITS ************/  \r\n            return(  \r\n                <span></span>\r\n            )\r\n \r\n        })\r\n\r\n        // Closing bal state\r\n        const [state, updateState] = useState({ \r\n            balance:null, \r\n        }); \r\n        \r\n        // onChange - handle closingBalance\r\n        const handleChange = (e) => {\r\n            updateState({ \r\n                balance: document.querySelector('#balance').value, \r\n            }) \r\n        };\r\n\r\n        // submit closing balance\r\n        const submitCB = (e) =>{ \r\n            e.preventDefault();  \r\n            const cb = state.balance; \r\n            console.log(cb)  \r\n            dispatch(postCB(cb));  \r\n     \r\n         }\r\n\r\n        //console.log(allDebits)\r\n        //console.log(allDeposits)\r\n        //console.log(allDeposits - allDebits)\r\n        let closingBalan = allDeposits-allDebits; \r\n        closingBalan = closingBalan.toFixed(2);\r\n        //let closingBalance = closingBalan.toFixed(0).replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\");\r\n    return (\r\n            <div className=\"closing-balance\"> \r\n                <div> \r\n                    <form onSubmit={submitCB}>\r\n                        <input type=\"text\" name=\"balance\" id=\"balance\" defaultValue={closingBalan} onChange={handleChange} />\r\n                        <input type=\"submit\" value=\"Update Opening Balance\"/>\r\n                    </form>\r\n                    \r\n                </div>\r\n            </div>\r\n    )\r\n} \r\n\r\nexport default ClosingBalance;          \r\n",["287","288"],"M:\\Projects\\benkassim\\src\\components\\OpeningBalance.js",["289"],"M:\\Projects\\benkassim\\src\\components\\TodayBalance.js",["290","291","292","293"],"import React, { useState, useEffect } from 'react';   \r\nimport { requestCredits } from '../store/actions/creditActions'\r\nimport { requestDebits } from '../store/actions/debitActions' \r\nimport { useSelector, useDispatch } from 'react-redux' \r\nimport { requestCB } from '../store/actions/CBActions' \r\nimport moment from 'moment'\r\n\r\nconst   TodayBalance = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    // When the component is mounted, retrieve the data\r\n    useEffect(() => {   \r\n        dispatch(requestCB());  \r\n    }, []);  \r\n\r\n    ///// Get today's Closing Balance //////\r\n        const cb = useSelector(state => state.CBR.cb); \r\n        let today = moment().format('YYYY-MM-DD'); \r\n        let isToday = cb.filter(c => {  \r\n            return ( \r\n                moment(c.today_date).format('YYYY-MM-DD') === today\r\n            )\r\n        }) \r\n        let last = [isToday[isToday.length-1]] \r\n        let obj = last[0] \r\n        const objectOptions = {\r\n        ...obj\r\n        }; \r\n\r\n        let totalBalanceToday = objectOptions.cbalance || 0;  \r\n        //let cs_lastClosingBal = lastClosingBal.toFixed(0).replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\");\r\n\r\n        ///// Get the last Closing Balance  //////  \r\n        let notToday = cb.filter(c => {  \r\n            return ( \r\n                moment(c.today_date).format('YYYY-MM-DD') !== today\r\n            )\r\n        }) \r\n        let last2 = [notToday[notToday.length-1]] \r\n        let obj2 = last2[0] \r\n        const objectOptions2 = {\r\n        ...obj2\r\n        }; \r\n\r\n        let lastClosingBal = objectOptions2.cbalance || 0; \r\n\r\n        //Today's closing balane\r\n        // Today's balance  = Today's closing balance - the opening sales\r\n        let todayClosingBal = totalBalanceToday - lastClosingBal\r\n    return (\r\n            <div className=\"closing-balance\"> \r\n                <div>\r\n                    <p>Today Closing Balance:</p>\r\n                    <div className=\"closing-bal\"> KSH {todayClosingBal} </div>\r\n                </div>\r\n            </div>\r\n    )\r\n} \r\n\r\nexport default  TodayBalance;          \r\n","M:\\Projects\\benkassim\\src\\components\\ClosingBalance.js",[],"M:\\Projects\\benkassim\\src\\store\\actions\\CBActions.js",[],"M:\\Projects\\benkassim\\src\\store\\reducers\\searchByDateReducer.js",[],"M:\\Projects\\benkassim\\src\\store\\sagas\\CBSaga.js",[],"M:\\Projects\\benkassim\\src\\store\\reducers\\CBReducer.js",[],"M:\\Projects\\benkassim\\src\\components\\SearchCustomer.js",["294","295"],"M:\\Projects\\benkassim\\src\\components\\accounts\\Login.js",["296","297"],"M:\\Projects\\benkassim\\src\\store\\actions\\authActions.js",[],"M:\\Projects\\benkassim\\src\\store\\reducers\\authReducer.js",[],"M:\\Projects\\benkassim\\src\\store\\sagas\\authSagas.js",["298"],"M:\\Projects\\benkassim\\src\\components\\common\\PrivateRoute.js",[],"M:\\Projects\\benkassim\\src\\components\\SystemSettings\\Rates.js",["299","300","301","302"],"M:\\Projects\\benkassim\\src\\components\\SystemSettings\\AddRate.js",["303"],"M:\\Projects\\benkassim\\src\\components\\Test.js",[],{"ruleId":"304","severity":1,"message":"305","line":3,"column":40,"nodeType":"306","messageId":"307","endLine":3,"endColumn":48},{"ruleId":"304","severity":1,"message":"308","line":5,"column":8,"nodeType":"306","messageId":"307","endLine":5,"endColumn":12},{"ruleId":"309","severity":1,"message":"310","line":23,"column":6,"nodeType":"311","endLine":23,"endColumn":8,"suggestions":"312"},{"ruleId":"304","severity":1,"message":"313","line":13,"column":11,"nodeType":"306","messageId":"307","endLine":13,"endColumn":26},{"ruleId":"304","severity":1,"message":"314","line":18,"column":11,"nodeType":"306","messageId":"307","endLine":18,"endColumn":23},{"ruleId":"304","severity":1,"message":"315","line":37,"column":11,"nodeType":"306","messageId":"307","endLine":37,"endColumn":21},{"ruleId":"304","severity":1,"message":"316","line":28,"column":11,"nodeType":"306","messageId":"307","endLine":28,"endColumn":28},{"ruleId":"304","severity":1,"message":"317","line":35,"column":11,"nodeType":"306","messageId":"307","endLine":35,"endColumn":29},{"ruleId":"309","severity":1,"message":"310","line":44,"column":8,"nodeType":"311","endLine":44,"endColumn":10,"suggestions":"318"},{"ruleId":"304","severity":1,"message":"316","line":27,"column":11,"nodeType":"306","messageId":"307","endLine":27,"endColumn":28},{"ruleId":"304","severity":1,"message":"317","line":34,"column":11,"nodeType":"306","messageId":"307","endLine":34,"endColumn":29},{"ruleId":"309","severity":1,"message":"310","line":43,"column":8,"nodeType":"311","endLine":43,"endColumn":10,"suggestions":"319"},{"ruleId":"304","severity":1,"message":"320","line":5,"column":5,"nodeType":"306","messageId":"307","endLine":5,"endColumn":20},{"ruleId":"304","severity":1,"message":"321","line":1,"column":33,"nodeType":"306","messageId":"307","endLine":1,"endColumn":39},{"ruleId":"304","severity":1,"message":"322","line":5,"column":5,"nodeType":"306","messageId":"307","endLine":5,"endColumn":18},{"ruleId":"304","severity":1,"message":"323","line":56,"column":14,"nodeType":"306","messageId":"307","endLine":56,"endColumn":22},{"ruleId":"304","severity":1,"message":"321","line":1,"column":33,"nodeType":"306","messageId":"307","endLine":1,"endColumn":39},{"ruleId":"304","severity":1,"message":"324","line":5,"column":5,"nodeType":"306","messageId":"307","endLine":5,"endColumn":17},{"ruleId":"304","severity":1,"message":"323","line":53,"column":15,"nodeType":"306","messageId":"307","endLine":53,"endColumn":23},{"ruleId":"304","severity":1,"message":"325","line":1,"column":27,"nodeType":"306","messageId":"307","endLine":1,"endColumn":36},{"ruleId":"304","severity":1,"message":"325","line":4,"column":27,"nodeType":"306","messageId":"307","endLine":4,"endColumn":36},{"ruleId":"304","severity":1,"message":"326","line":6,"column":10,"nodeType":"306","messageId":"307","endLine":6,"endColumn":21},{"ruleId":"304","severity":1,"message":"327","line":11,"column":12,"nodeType":"306","messageId":"307","endLine":11,"endColumn":17},{"ruleId":"304","severity":1,"message":"328","line":16,"column":11,"nodeType":"306","messageId":"307","endLine":16,"endColumn":23},{"ruleId":"329","replacedBy":"330"},{"ruleId":"331","replacedBy":"332"},{"ruleId":"304","severity":1,"message":"325","line":1,"column":27,"nodeType":"306","messageId":"307","endLine":1,"endColumn":36},{"ruleId":"304","severity":1,"message":"326","line":3,"column":10,"nodeType":"306","messageId":"307","endLine":3,"endColumn":21},{"ruleId":"304","severity":1,"message":"333","line":12,"column":12,"nodeType":"306","messageId":"307","endLine":12,"endColumn":26},{"ruleId":"309","severity":1,"message":"310","line":10,"column":8,"nodeType":"311","endLine":10,"endColumn":10,"suggestions":"334"},{"ruleId":"304","severity":1,"message":"335","line":1,"column":16,"nodeType":"306","messageId":"307","endLine":1,"endColumn":24},{"ruleId":"309","severity":1,"message":"310","line":10,"column":8,"nodeType":"311","endLine":10,"endColumn":10,"suggestions":"336"},{"ruleId":"304","severity":1,"message":"325","line":1,"column":27,"nodeType":"306","messageId":"307","endLine":1,"endColumn":36},{"ruleId":"304","severity":1,"message":"337","line":3,"column":10,"nodeType":"306","messageId":"307","endLine":3,"endColumn":19},{"ruleId":"304","severity":1,"message":"338","line":4,"column":8,"nodeType":"306","messageId":"307","endLine":4,"endColumn":16},{"ruleId":"304","severity":1,"message":"339","line":6,"column":10,"nodeType":"306","messageId":"307","endLine":6,"endColumn":18},{"ruleId":"309","severity":1,"message":"340","line":26,"column":8,"nodeType":"311","endLine":26,"endColumn":10,"suggestions":"341"},{"ruleId":"304","severity":1,"message":"342","line":37,"column":11,"nodeType":"306","messageId":"307","endLine":37,"endColumn":28},{"ruleId":"304","severity":1,"message":"343","line":51,"column":11,"nodeType":"306","messageId":"307","endLine":51,"endColumn":27},{"ruleId":"304","severity":1,"message":"344","line":58,"column":11,"nodeType":"306","messageId":"307","endLine":58,"endColumn":31},{"ruleId":"304","severity":1,"message":"345","line":65,"column":11,"nodeType":"306","messageId":"307","endLine":65,"endColumn":36},{"ruleId":"304","severity":1,"message":"346","line":72,"column":11,"nodeType":"306","messageId":"307","endLine":72,"endColumn":40},{"ruleId":"304","severity":1,"message":"347","line":79,"column":11,"nodeType":"306","messageId":"307","endLine":79,"endColumn":24},{"ruleId":"304","severity":1,"message":"348","line":86,"column":11,"nodeType":"306","messageId":"307","endLine":86,"endColumn":32},{"ruleId":"349","severity":1,"message":"350","line":107,"column":30,"nodeType":"351","messageId":"352","endLine":107,"endColumn":32},{"ruleId":"349","severity":1,"message":"350","line":110,"column":35,"nodeType":"351","messageId":"352","endLine":110,"endColumn":37},{"ruleId":"349","severity":1,"message":"350","line":143,"column":30,"nodeType":"351","messageId":"352","endLine":143,"endColumn":32},{"ruleId":"349","severity":1,"message":"350","line":146,"column":35,"nodeType":"351","messageId":"352","endLine":146,"endColumn":37},{"ruleId":"304","severity":1,"message":"325","line":1,"column":27,"nodeType":"306","messageId":"307","endLine":1,"endColumn":36},{"ruleId":"304","severity":1,"message":"353","line":7,"column":19,"nodeType":"306","messageId":"307","endLine":7,"endColumn":30},{"ruleId":"309","severity":1,"message":"354","line":17,"column":8,"nodeType":"311","endLine":17,"endColumn":10,"suggestions":"355"},{"ruleId":"309","severity":1,"message":"310","line":16,"column":8,"nodeType":"311","endLine":16,"endColumn":10,"suggestions":"356"},{"ruleId":"309","severity":1,"message":"310","line":16,"column":8,"nodeType":"311","endLine":16,"endColumn":10,"suggestions":"357"},{"ruleId":"304","severity":1,"message":"335","line":1,"column":17,"nodeType":"306","messageId":"307","endLine":1,"endColumn":25},{"ruleId":"309","severity":1,"message":"310","line":14,"column":8,"nodeType":"311","endLine":14,"endColumn":10,"suggestions":"358"},{"ruleId":"304","severity":1,"message":"359","line":30,"column":9,"nodeType":"306","messageId":"307","endLine":30,"endColumn":20},{"ruleId":"304","severity":1,"message":"360","line":36,"column":9,"nodeType":"306","messageId":"307","endLine":36,"endColumn":21},{"ruleId":"361","severity":1,"message":"362","line":54,"column":28,"nodeType":"363","messageId":"364","endLine":54,"endColumn":30},{"ruleId":"304","severity":1,"message":"365","line":77,"column":17,"nodeType":"306","messageId":"307","endLine":77,"endColumn":25},{"ruleId":"361","severity":1,"message":"362","line":102,"column":27,"nodeType":"363","messageId":"364","endLine":102,"endColumn":29},{"ruleId":"304","severity":1,"message":"366","line":104,"column":13,"nodeType":"306","messageId":"307","endLine":104,"endColumn":17},{"ruleId":"304","severity":1,"message":"367","line":129,"column":17,"nodeType":"306","messageId":"307","endLine":129,"endColumn":27},{"ruleId":"309","severity":1,"message":"310","line":18,"column":8,"nodeType":"311","endLine":18,"endColumn":10,"suggestions":"368"},{"ruleId":"329","replacedBy":"369"},{"ruleId":"331","replacedBy":"370"},{"ruleId":"309","severity":1,"message":"310","line":12,"column":8,"nodeType":"311","endLine":12,"endColumn":10,"suggestions":"371"},{"ruleId":"304","severity":1,"message":"335","line":1,"column":17,"nodeType":"306","messageId":"307","endLine":1,"endColumn":25},{"ruleId":"304","severity":1,"message":"372","line":2,"column":10,"nodeType":"306","messageId":"307","endLine":2,"endColumn":24},{"ruleId":"304","severity":1,"message":"373","line":3,"column":10,"nodeType":"306","messageId":"307","endLine":3,"endColumn":23},{"ruleId":"309","severity":1,"message":"310","line":14,"column":8,"nodeType":"311","endLine":14,"endColumn":10,"suggestions":"374"},{"ruleId":"304","severity":1,"message":"325","line":4,"column":27,"nodeType":"306","messageId":"307","endLine":4,"endColumn":36},{"ruleId":"304","severity":1,"message":"326","line":6,"column":10,"nodeType":"306","messageId":"307","endLine":6,"endColumn":21},{"ruleId":"304","severity":1,"message":"375","line":3,"column":10,"nodeType":"306","messageId":"307","endLine":3,"endColumn":14},{"ruleId":"376","severity":1,"message":"377","line":37,"column":43,"nodeType":"378","endLine":37,"endColumn":83},{"ruleId":"304","severity":1,"message":"379","line":85,"column":15,"nodeType":"306","messageId":"307","endLine":85,"endColumn":18},{"ruleId":"304","severity":1,"message":"335","line":1,"column":17,"nodeType":"306","messageId":"307","endLine":1,"endColumn":25},{"ruleId":"304","severity":1,"message":"380","line":2,"column":23,"nodeType":"306","messageId":"307","endLine":2,"endColumn":31},{"ruleId":"304","severity":1,"message":"381","line":5,"column":8,"nodeType":"306","messageId":"307","endLine":5,"endColumn":15},{"ruleId":"309","severity":1,"message":"310","line":13,"column":8,"nodeType":"311","endLine":13,"endColumn":10,"suggestions":"382"},{"ruleId":"304","severity":1,"message":"325","line":1,"column":27,"nodeType":"306","messageId":"307","endLine":1,"endColumn":36},"no-unused-vars","'Redirect' is defined but never used.","Identifier","unusedVar","'Home' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["383"],"'isAuthenticated' is assigned a value but never used.","'hideDropMenu' is assigned a value but never used.","'toggleMenu' is assigned a value but never used.","'showUpdateOverlay' is assigned a value but never used.","'closeUpdateOverlay' is assigned a value but never used.",["384"],["385"],"'REQUEST_CLIENTS' is defined but never used.","'select' is defined but never used.","'SEARCH_CREDIT' is defined but never used.","'response' is assigned a value but never used.","'SEARCH_DEBIT' is defined but never used.","'useEffect' is defined but never used.","'useSelector' is defined but never used.","'state' is assigned a value but never used.","'handleChange' is assigned a value but never used.","no-native-reassign",["386"],"no-negated-in-lhs",["387"],"'showAddOverlay' is assigned a value but never used.",["388"],"'useState' is defined but never used.",["389"],"'addCredit' is defined but never used.","'AddDebit' is defined but never used.","'addDebit' is defined but never used.","React Hook useEffect has a missing dependency: 'getQueryString'. Either include it or remove the dependency array.",["390"],"'showAddCreditForm' is assigned a value but never used.","'showAddDebitForm' is assigned a value but never used.","'closeAddDebitOverlay' is assigned a value but never used.","'showCurrencyConvertorForm' is assigned a value but never used.","'closeCurrencyConvertorOverlay' is assigned a value but never used.","'showClearForm' is assigned a value but never used.","'closeClearFormOverlay' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'updateState' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'dispatch' and 'state.date'. Either include them or remove the dependency array.",["391"],["392"],["393"],["394"],"'allDeposits' is assigned a value but never used.","'allBorroweds' is assigned a value but never used.","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","'all_usds' is assigned a value but never used.","'name' is assigned a value but never used.","'all_usds_b' is assigned a value but never used.",["395"],["386"],["387"],["396"],"'requestCredits' is defined but never used.","'requestDebits' is defined but never used.",["397"],"'Link' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'res' is assigned a value but never used.","'postRate' is defined but never used.","'AddRate' is defined but never used.",["398"],{"desc":"399","fix":"400"},{"desc":"399","fix":"401"},{"desc":"399","fix":"402"},"no-global-assign","no-unsafe-negation",{"desc":"399","fix":"403"},{"desc":"399","fix":"404"},{"desc":"405","fix":"406"},{"desc":"407","fix":"408"},{"desc":"399","fix":"409"},{"desc":"399","fix":"410"},{"desc":"399","fix":"411"},{"desc":"399","fix":"412"},{"desc":"399","fix":"413"},{"desc":"399","fix":"414"},{"desc":"399","fix":"415"},"Update the dependencies array to be: [dispatch]",{"range":"416","text":"417"},{"range":"418","text":"417"},{"range":"419","text":"417"},{"range":"420","text":"417"},{"range":"421","text":"417"},"Update the dependencies array to be: [getQueryString]",{"range":"422","text":"423"},"Update the dependencies array to be: [dispatch, state.date]",{"range":"424","text":"425"},{"range":"426","text":"417"},{"range":"427","text":"417"},{"range":"428","text":"417"},{"range":"429","text":"417"},{"range":"430","text":"417"},{"range":"431","text":"417"},{"range":"432","text":"417"},[940,942],"[dispatch]",[1251,1253],[1254,1256],[361,363],[402,404],[996,998],"[getQueryString]",[546,548],"[dispatch, state.date]",[607,609],[606,608],[509,511],[689,691],[385,387],[525,527],[442,444]]